<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel Administrativo - Petrobras</title>
    <link rel="stylesheet" href="../assets/style.css">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="admin-container">
        <header class="admin-header">
            <div class="header-content">
                <img src="../assets/petrobras-logo.png" alt="Logo Petrobras" class="admin-logo">
                <div class="header-text">
                    <h1 class="admin-title">Painel Administrativo</h1>
                    <p class="admin-subtitle">Sistema de Controle de Fotografia - Petrobras</p>
                </div>
            </div>
        </header>

        <main class="admin-main">
            <div class="dashboard-grid">
                <div class="settings-card">
                    <div class="card-header">
                        <i class="fas fa-cog"></i>
                        <h2>Configurações do Sistema</h2>
                    </div>
                    
                    <form id="settings-form" class="settings-form">
                        <div class="form-section">
                            <div class="section-header">
                                <i class="fas fa-server"></i>
                                <h3>Conexão OBS WebSocket</h3>
                            </div>
                            
                            <div class="form-grid">
                                <div class="form-group">
                                    <label for="obs_host">
                                        <i class="fas fa-network-wired"></i>
                                        Servidor (Host)
                                    </label>
                                    <input type="text" id="obs_host" name="obs_host" placeholder="localhost" required>
                                </div>
                                
                                <div class="form-group">
                                    <label for="obs_port">
                                        <i class="fas fa-plug"></i>
                                        Porta
                                    </label>
                                    <input type="number" id="obs_port" name="obs_port" placeholder="4455" required>
                                </div>
                                
                                <div class="form-group full-width">
                                    <label for="obs_password">
                                        <i class="fas fa-lock"></i>
                                        Senha
                                    </label>
                                    <input type="password" id="obs_password" name="obs_password" placeholder="Digite a senha do OBS">
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <div class="section-header">
                                <i class="fas fa-video"></i>
                                <h3>Configurações de Gravação</h3>
                            </div>
                            
                            <div class="form-grid">
                                <div class="form-group">
                                    <label for="standby_delay">
                                        <i class="fas fa-clock"></i>
                                        Tempo de Espera (segundos)
                                    </label>
                                    <input type="number" id="standby_delay" name="standby_delay" placeholder="3" min="1" max="30" required>
                                    <small>Tempo antes de iniciar a gravação</small>
                                </div>
                                
                                <div class="form-group">
                                    <label for="recording_duration">
                                        <i class="fas fa-stopwatch"></i>
                                        Duração da Gravação (segundos)
                                    </label>
                                    <input type="number" id="recording_duration" name="recording_duration" placeholder="10" min="1" max="300" required>
                                    <small>Duração da gravação automática</small>
                                </div>
                            </div>
                        </div>

                        <div class="form-actions">
                            <button type="submit" class="save-button">
                                <i class="fas fa-save"></i>
                                Salvar Configurações
                            </button>
                            <button type="button" id="test-connection" class="test-button">
                                <i class="fas fa-plug"></i>
                                Testar Conexão OBS
                            </button>
                        </div>
                    </form>
                </div>

                <div class="status-card">
                    <div class="card-header">
                        <i class="fas fa-tachometer-alt"></i>
                        <h2>Status do Sistema</h2>
                    </div>
                    
                    <div class="status-content" id="system-status">
                        <div class="status-item">
                            <div class="status-label">Status da Conexão OBS:</div>
                            <div class="status-value" id="obs-status">Desconhecido</div>
                        </div>
                        
                        <div class="status-item">
                            <div class="status-label">Última Gravação:</div>
                            <div class="status-value" id="last-recording">Nenhuma</div>
                        </div>
                        
                        <div class="status-item">
                            <div class="status-label">Arquivos em "latest":</div>
                            <div class="status-value" id="latest-files">0</div>
                        </div>
                        
                        <div class="status-item">
                            <div class="status-label">Arquivos arquivados:</div>
                            <div class="status-value" id="archived-files">0</div>
                        </div>
                    </div>
                </div>

                <div class="actions-card">
                    <div class="card-header">
                        <i class="fas fa-tools"></i>
                        <h2>Ações do Sistema</h2>
                    </div>
                    
                    <div class="actions-content">
                        <button id="manual-recording" class="action-button primary">
                            <i class="fas fa-play-circle"></i>
                            Iniciar Gravação Manual
                        </button>
                        
                        <button id="view-latest" class="action-button secondary">
                            <i class="fas fa-eye"></i>
                            Ver Último Vídeo
                        </button>
                        
                        <button id="clear-old" class="action-button warning">
                            <i class="fas fa-trash-alt"></i>
                            Limpar Arquivos Antigos
                        </button>
                        
                        <button id="refresh-status" class="action-button info">
                            <i class="fas fa-sync-alt"></i>
                            Atualizar Status
                        </button>
                    </div>
                </div>
            </div>
        </main>

        <footer class="admin-footer">
            <p>© 2024 Petrobras - Sistema de Controle de Fotografia | Painel Administrativo</p>
        </footer>
    </div>

    <!-- Response Modal -->
    <div id="response-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">Mensagem</h3>
                <span class="modal-close">&times;</span>
            </div>
            <div id="modal-message" class="modal-body"></div>
            <div class="modal-footer">
                <button id="modal-close-btn" class="modal-button">Fechar</button>
            </div>
        </div>
    </div>

    <script src="admin.js"></script>
</body>
</html>